<section class="tab-content">
  <div class="col-lg-md-4 text-right p-2">

    <button class="btn btn-primary my-2 my-xl-2 d-block btn-block-xs-only" pButton type="button"
            label="Feuille de temps"
            (click)="nextStepPlease()"><i class="pi pi-plus pr-2"> </i>
    </button>
  </div>

  <div class="table-responsive ">

    <table class="table table-hover p-p-0 p-m-0">
      <thead>
      <tr>
        <th class="text-truncate" scope="col">#</th>
        <th *ngIf="isAdmin" class="text-truncate" scope="col">Prenom</th>
        <th *ngIf="isAdmin" class="text-truncate" scope="col">Nom</th>
        <th class="text-truncate" scope="col">Site</th>
        <th class="text-truncate" scope="col">Année</th>
        <th class="text-truncate" scope="col">Semaine</th>
        <th class="text-truncate" scope="col">Heures travaillées</th>
        <th class="text-truncate" scope="col">Regime horaire</th>
        <th class="text-truncate" scope="col">Contrat</th>
        <th ></th>

      </tr>
      </thead>
      <tbody class="" >
      <tr *ngFor="let timesheet of allTimesheets; index as i">
        <th  scope="row">{{i + 1}}</th>
        <td *ngIf="isAdmin" class="text-truncate">{{timesheet.firstname}}</td>
        <td *ngIf="isAdmin" class="text-truncate">{{timesheet.lastname}}</td>
        <td class="text-truncate">{{timesheet.site}}</td>
        <td class="text-truncate">{{timesheet.year}}</td>
        <td class="text-truncate">{{timesheet.week}}</td>
        <td class="text-truncate">{{timesheet.weekhoursdone}}</td>
        <td class="text-truncate">{{timesheet.weekhoursplanned}}</td>
        <td class="text-truncate">{{timesheet.contracttype}}</td>
        <td class="text-truncate "  >
          <button
            *ngIf="timesheet.userUid == userUid || isAdmin == true; else noOwner"
            class="btn btn-primary p-mr-2" pButton icon="pi pi-pencil"
            data-toggle="modal"
            data-target="#modalBook"
            (click)="onPreUpdateTimesheet(timesheet)">
          </button>
          <ng-template #noOwner>
            <button class="btn btn-secondary p-mr-2" pButton
                    icon="pi pi-pencil" disabled="true">
            </button>
          </ng-template>

          <button
            *ngIf="isAdmin == true; else noAdmin"
            class="btn btn-danger p-button-danger p-mr-2 " pButton
            icon="pi pi-times" (click)="onDeleteTimesheet(timesheet.id)">
          </button>
          <ng-template #noAdmin>
            <button class="btn btn-danger p-mr-2" pButton
                    icon="pi pi-times" disabled="true">
            </button>
          </ng-template>

          <button

            class="btn  p-button-success p-mr-2" pButton
            icon="pi pi-envelope" (click)="eventemit(timesheet)">
          </button>
          <ng-template #noAdmin>
            <button class="btn  p-button-success p-mr-2" pButton
                    icon="pi pi-envelope" disabled="true">
            </button>
          </ng-template>

        </td>
      </tr>
      </tbody>
    </table>
  </div>
</section>
<div *ngIf="true" >

  <app-home ></app-home>

</div>

