<section class="tab-content">
  <div class="col-lg-md-4 text-right p-2">

    <button class="btn btn-primary my-2 my-xl-2 d-block btn-block-xs-only" pButton type="button"
            label="Feuille de temps"
            (click)="nextStepPlease()"><i class="pi pi-plus pr-2"> </i>
    </button>
  </div>

  <div class="table-responsive ">

    <table class="table table-hover ">
      <thead>
      <tr>
        <th class="text-truncate" scope="col">#</th>
        <th class="text-truncate" scope="col">Prenom</th>
        <th class="text-truncate" scope="col">Nom</th>
        <th class="text-truncate" scope="col">Site</th>
        <th class="text-truncate" scope="col">Semaine</th>
        <th class="text-truncate" scope="col">Heures travaill√©es</th>
        <th class="text-truncate" scope="col">Regime horaire</th>
        <th style="position: sticky; z-index: 9"></th>

      </tr>
      </thead>
      <tbody>
      <tr  *ngFor="let timesheet of allTimesheets; index as i">
        <th  scope="row">{{i + 1}}</th>
        <td class="text-truncate">{{timesheet.firstname}}</td>
        <td class="text-truncate">{{timesheet.lastname}}</td>
        <td class="text-truncate">{{timesheet.site}}</td>
        <td class="text-truncate">{{timesheet.week}}</td>
        <td class="text-truncate">{{timesheet.weekhoursdone}}</td>
        <td class="text-truncate">{{timesheet.weekhoursplanned}}</td>
        <td class="text-truncate " style="position: sticky;right:-5px;" >
          <button
            *ngIf="timesheet.userUid == userUid || isAdmin == true; else noOwner"
            class="btn btn-primary p-mr-2" pButton icon="pi pi-pencil"
            data-toggle="modal"
            data-target="#modalBook"
            (click)="onPreUpdateTimesheet(timesheet)">
          </button>
          <ng-template #noOwner>
            <button class="btn btn-secondary p-mr-2" pButton
                    icon="pi pi-pencil" disabled="true">
            </button>
          </ng-template>

          <button
            *ngIf="isAdmin == true; else noAdmin"
            class="btn btn-danger p-button-danger p-mr-2 " pButton
            icon="pi pi-times" (click)="onDeleteTimesheet(timesheet.id)">
          </button>
          <ng-template #noAdmin>
            <button class="btn btn-danger p-mr-2" pButton
                    icon="pi pi-times" disabled="true">
            </button>
          </ng-template>

          <button

            class="btn  p-button-success p-mr-2" pButton
            icon="pi pi-envelope" (click)="eventemit(timesheet)">
          </button>
          <ng-template #noAdmin>
            <button class="btn  p-button-success p-mr-2" pButton
                    icon="pi pi-envelope" disabled="true">
            </button>
          </ng-template>

        </td>
      </tr>
      </tbody>
    </table>
  </div>
</section>
<div *ngIf="true" >

  <app-home ></app-home>

</div>

